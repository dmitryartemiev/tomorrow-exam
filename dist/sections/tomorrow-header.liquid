<header class="header">
  <div class="header__logo">
    <a href="{{ routes.root_url }}" class="header__link">
      {%- if section.settings.logo != blank -%}
        {%- assign logo_alt = section.settings.logo.alt | default: shop.name | escape -%}
        <img src="{{ section.settings.logo | image_url }}" alt="{{ logo_alt }}">
      {%- else -%}
        <span class="h2">{{ shop.name }}</span>
      {%- endif -%}
    </a>
  </div>
  <div class="header__nav">
    {% if section.settings.menu.links.size > 0 %}

      <ul class="nav__wrapper" role="list">
        {%- for link in section.settings.menu.links -%}
          <li>
            <a href="{{ link.url }}" class="nav__link{% if link.current %} nav__link-active{% endif %}"{% if link.current %} aria-current="page"{% endif %}>
              {{ link.title | escape }}
            </a>
          </li>
        {%- endfor -%}

        <li>
          <a href="{{ routes.cart_url }}" class="header__icon">
            <img src="{{ 'bag.svg' | asset_url }}">
            <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
            {%- if cart != empty -%}
              <div class="cart-count-bubble">
                {%- if cart.item_count < 100 -%}
                  <span aria-hidden="true">{{ cart.item_count }}</span>
                {%- endif -%}
                <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
              </div>
            {%- endif -%}
          </a>
        </li>

        <li>
          <a href="#" class="header__icon" aria-haspopup="dialog" aria-label="{{ 'general.search.search' | t }}">
            <span>
              <svg class="icon icon-search" aria-hidden="true" focusable="false" role="presentation">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.03 11.68A5.784 5.784 0 112.85 3.5a5.784 5.784 0 018.18 8.18zm.26 1.12a6.78 6.78 0 11.72-.7l5.4 5.4a.5.5 0 11-.71.7l-5.41-5.4z" fill="currentColor"/>
              </svg>
            </span>
          </a>
        </li>

      </ul>
    {% endif %}
  </div>
</header>

{% schema %}
{
  "name": "Tomorrow Header",
  "class": "section-header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "t:sections.header.settings.logo.label"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "t:sections.header.settings.menu.label"
    }
  ]
}
{% endschema %}